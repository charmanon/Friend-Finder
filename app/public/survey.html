<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Tables Page</title>

  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <!-- CSS -->
  <link rel="stylesheet" href="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css">
  <script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
  <script src="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <!-- <link rel="stylesheet" href="css/style.css"> -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

</head>
<body>

<style>

.jumbotron{
  background-image: url("images/friends.jpg");
  background-repeat: no-repeat;
  background-size: cover;
  height:100%;
  min-height:500px;
}

.title{
  padding-top: 50px;
  color:white !important;
  text-shadow: -1px 0 black, 0 1px black, 1px 0 black, 0 -1px black;
}

.form-group{
  max-width: 600px;
}

.panel{
  max-width: 600px;
}

.survey{
  display: flex;
  align-content: center;
}

.btn-lg{
  max-width: 300px;
}

#photo-friend{
  width: 300px;
}

</style>

  <div class="container">
    <div class="bg"></div>
    <div class="jumbotron">
      <h1 class="text-center title font-family-serif"><span class="glyphicon glyphicon-fire"></span>Find Hot Friends</h1>
      <hr>
      <div class="text-center">
       <!--  <a href="/tables"><button type="button" class="btn btn-lg btn-primary"><span class="glyphicon glyphicon-list-alt"></span> Come this way, sexy person</button></a> -->
        <!-- <a href="/reserve"><button type="button" class="btn btn-lg btn-danger"><span class="glyphicon glyphicon-credit-card"></span> Make Reservation</button></a> -->
      </div>

    </div>


    <div class = "survey">
      <div class = "questions">
        <div class="form-group">
          <label for="name"><h3>Name</h3></label>
          <input type="text" class="form-control" id="name" required>
          </div>

          <div class="form-group">
          <label for="role"><h3>Photo:</h3></label>
          <input type="text" class="form-control" id="photo" required>
          </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3>How big are your forearms?</h3></div>
          <div class="panel-body">
            <div class="form-group">
              <label for="sel1">Select list (select one):</label>
              <select class="form-control" id="ques1">
                <option>1</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5</option>
              </select>
              <br>
            </div>
          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3>How big are your teeth?</h3></div>
          <div class="panel-body">
            <div class="form-group">
              <label for="sel1">Select list (select one):</label>
              <select class="form-control" id="ques2">
                <option>1</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5</option>
              </select>
              <br>
            </div>
          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3>How big are your lips?</h3></div>
          <div class="panel-body">
            <div class="form-group">
              <label for="sel1">Select list (select one):</label>
              <select class="form-control" id="ques3">
                <option>1</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5</option>
              </select>
              <br>
            </div>
          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3>How big are your feet?</h3></div>
          <div class="panel-body">
            <div class="form-group">
              <label for="sel1">Select list (select one):</label>
              <select class="form-control" id="ques4">
                <option>1</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5</option>
              </select>
              <br>
            </div>
          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3>How many pairs of shoes do you wear?</h3></div>
          <div class="panel-body">
            <div class="form-group">
              <label for="sel1">Select list (select one):</label>
              <select class="form-control" id="ques5">
                <option>1</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5</option>
              </select>
              <br>
            </div>
          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3>How many dogs do you own?</h3></div>
          <div class="panel-body">
            <div class="form-group">
              <label for="sel1">Select list (select one):</label>
              <select class="form-control" id="ques6">
                <option>1</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5</option>
              </select>
              <br>
            </div>
          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3>How many tacos did you have last time you had tacos?</h3></div>
          <div class="panel-body">
            <div class="form-group">
              <label for="sel1">Select list (select one):</label>
              <select class="form-control" id="ques7">
                <option>1</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5</option>
              </select>
              <br>
            </div>
          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3>How many times did you say "I love you" to your pet rock?</h3></div>
          <div class="panel-body">
            <div class="form-group">
              <label for="sel1">Select list (select one):</label>
              <select class="form-control" id="ques8">
                <option>1</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5</option>
              </select>
              <br>
            </div>
          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3>Which Rocky movie is your favorite?</h3></div>
          <div class="panel-body">
            <div class="form-group">
              <label for="sel1">Select list (select one):</label>
              <select class="form-control" id="ques9">
                <option>1</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5</option>
              </select>
              <br>
            </div>
          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3>How are your forearms?</h3></div>
          <div class="panel-body">
            <div class="form-group">
              <label for="sel1">Select list (select one):</label>
              <select class="form-control" id="ques10">
                <option>1</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5</option>
              </select>
              <br>
            </div>
          </div>
        </div>
      </div>
    </div>

   <div class="container">
    <!-- Trigger the modal with a button -->
    <button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#myModal">Find your new BFF!</button>

    <!-- Modal -->
    <div class="modal fade" id="myModal" role="dialog">
      <div class="modal-dialog">
      
        <!-- Modal content-->
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h4 class="modal-title">Your new best friend!</h4>
          </div>
          <div class="modal-body">
            <h1>This is your new best friend.</h1>
            <h2 id="name-friend"></h2>
            <img id="photo-friend">
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div>
        
      </div>
    </div>
    
  </div>

    <footer class="footer">
      <div class="container">
        <p><a href="/friends">API Friends List</a> | <a href="https://github.com/sharloteean/Friend-Finder">GitHub Repo</a></p>
      </div>
    </footer>

  </div>
<script type="text/javascript">
    // Question: What does this code do?
    $(".btn").on("click", function(event) {
      event.preventDefault();
      var name = $("#name").val().trim();
      var scores = [];
      $('select','.questions').each(function() {
        scores.push($(this).val()); 
      });
      var newCharacter = {
        name: name,
        photo: $("#photo").val().trim(),
        scores: scores
      };
      // alert("Adding character...");

      // Question: What does this code do??
      $.post("/friends", newCharacter)
      .done(function(data) {
        console.log(data);
        alert("Adding character...");
      });
      console.log(newCharacter);

      $.get("/friends", function(data) {
        var i = Math.floor(Math.random()*data.length)-1;
        console.log(i);
        console.log(data);
        if (data) {
          $("#stats").show();
          $("#name-friend").text(data[i].name);
          $("#photo-friend").attr("src",data[i].photo);
        }
      });
    });




  </script>


</body>
</html>
